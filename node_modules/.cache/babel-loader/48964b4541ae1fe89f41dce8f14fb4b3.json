{"remainingRequest":"/Users/xiaoma/Documents/gitlab/web/vuex-4-code/node_modules/babel-loader/lib/index.js!/Users/xiaoma/Documents/gitlab/web/vuex-4-code/node_modules/eslint-loader/index.js??ref--13-0!/Users/xiaoma/Documents/gitlab/web/vuex-4-code/src/vuex/index.js","dependencies":[{"path":"/Users/xiaoma/Documents/gitlab/web/vuex-4-code/src/vuex/index.js","mtime":1624203252808},{"path":"/Users/xiaoma/Documents/gitlab/web/vuex-4-code/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xiaoma/Documents/gitlab/web/vuex-4-code/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/xiaoma/Documents/gitlab/web/vuex-4-code/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMveGlhb21hL0RvY3VtZW50cy9naXRsYWIvd2ViL3Z1ZXgtNC1jb2RlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL1VzZXJzL3hpYW9tYS9Eb2N1bWVudHMvZ2l0bGFiL3dlYi92dWV4LTQtY29kZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgeyBpbmplY3QsIHJlYWN0aXZlIH0gZnJvbSAidnVlIjsgLy8g5Yib5bu65a655ZmoIOi/lOWbnuS4gOS4qnN0b3JlCgp2YXIgc3RvcmVLZXkgPSAic3RvcmUiOwoKdmFyIFN0b3JlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBTdG9yZShvcHRpb25zKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3RvcmUpOwoKICAgIGNvbnNvbGUubG9nKG9wdGlvbnMpOyAvLyB0aGlzLmEgPTEwMDsgCiAgICAvLyB2dWUzIOWGhemDqOS8muWIm+mAoOS4gOS4qnZ1ZeWunuS+i++8jOS9hnZ1ZXg055u05o6l5Lya6YeH55SodnVlM+aPkOS+m+eahOWTjeW6lOW8j+aWueazlQogICAgLy8gdGhpcy5zdGF0ZSA9IG9wdGlvbnMuc3RhdGU7CgogICAgdmFyIHN0b3JlID0gdGhpczsgLy8gc3RvcmUuX3N0b3JlLmRhdGEgCgogICAgc3RvcmUuX3N0b3JlID0gcmVhY3RpdmUoewogICAgICBkYXRhOiBvcHRpb25zLnN0YXRlCiAgICB9KTsgLy8gbmV3IFZ1ZSgpCiAgfQoKICBfY3JlYXRlQ2xhc3MoU3RvcmUsIFt7CiAgICBrZXk6ICJpbnN0YWxsIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBpbnN0YWxsKGFwcCwgaW5qZWN0S2V5KSB7CiAgICAgIC8vIGNyZWF0ZUFwcCgpLnVzZShzdG9yZSwgJ215JykKICAgICAgLy8g5YWo5bGA5pq06Zyy5LiA5Liq5Y+Y6YePIOaatOmcsueahOaYr3N0b3Jl55qE5a6e5L6LCiAgICAgIGFwcC5wcm92aWRlKGluamVjdEtleSB8fCBzdG9yZUtleSwgdGhpcyk7IC8vIOe7mei3n2FwcOWinuWKoOS4gOS4qiBfcHJvdmlkZXMs5a2Q57uE5Lu25Lya5Y675ZCR5LiK5p+l5om+CiAgICAgIC8vIHZ1ZS5wcm9wZXJ0aWVzLiRzdG9yZSA9IHRoaXMKCiAgICAgIGFwcC5jb25maWcuZ2xvYmFsUHJvcGVydGllcy4kc3RvcmUgPSB0aGlzOyAvLyDlop7mt7sgJHN0b3JlCiAgICB9CiAgfV0pOwoKICByZXR1cm4gU3RvcmU7Cn0oKTsKCmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTdG9yZShvcHRpb25zKSB7CiAgcmV0dXJuIG5ldyBTdG9yZShvcHRpb25zKTsKfSAvLyB2dWXlhoXpg6jlt7Lnu4/lsIbov5nkupthcGnlr7xz5Ye65p2l5LqGCgpleHBvcnQgZnVuY3Rpb24gdXNlU3RvcmUoKSB7CiAgdmFyIGluamVjdEtleSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogc3RvcmVLZXk7CiAgcmV0dXJuIGluamVjdChpbmplY3RLZXkgIT09IG51bGwgPyBpbmplY3RLZXkgOiBzdG9yZUtleSk7Cn0="},{"version":3,"sources":["/Users/xiaoma/Documents/gitlab/web/vuex-4-code/src/vuex/index.js"],"names":["inject","reactive","storeKey","Store","options","console","log","store","_store","data","state","app","injectKey","provide","config","globalProperties","$store","createStore","useStore"],"mappings":";;AAAA,SAAQA,MAAR,EAAgBC,QAAhB,QAAgC,KAAhC,C,CACA;;AACA,IAAMC,QAAQ,GAAG,OAAjB;;IACMC,K;AACF,iBAAYC,OAAZ,EAAoB;AAAA;;AAChBC,IAAAA,OAAO,CAACC,GAAR,CAAYF,OAAZ,EADgB,CAEhB;AACA;AACA;;AACA,QAAMG,KAAK,GAAG,IAAd,CALgB,CAMhB;;AACAA,IAAAA,KAAK,CAACC,MAAN,GAAeP,QAAQ,CAAC;AAACQ,MAAAA,IAAI,EAAEL,OAAO,CAACM;AAAf,KAAD,CAAvB,CAPgB,CAO+B;AAClD;;;;WACD,iBAAQC,GAAR,EAAaC,SAAb,EAAuB;AAAE;AACrB;AACAD,MAAAA,GAAG,CAACE,OAAJ,CAAYD,SAAS,IAAIV,QAAzB,EAAkC,IAAlC,EAFmB,CAEsB;AACzC;;AACAS,MAAAA,GAAG,CAACG,MAAJ,CAAWC,gBAAX,CAA4BC,MAA5B,GAAqC,IAArC,CAJmB,CAIwB;AAC9C;;;;;;AAGL,OAAO,SAASC,WAAT,CAAqBb,OAArB,EAA8B;AACjC,SAAO,IAAID,KAAJ,CAAUC,OAAV,CAAP;AAEH,C,CACD;;AACA,OAAO,SAASc,QAAT,GAAuC;AAAA,MAArBN,SAAqB,uEAATV,QAAS;AAC1C,SAAOF,MAAM,CAACY,SAAS,KAAK,IAAd,GAAqBA,SAArB,GAAiCV,QAAlC,CAAb;AACH","sourcesContent":["import {inject, reactive } from \"vue\"\n// 创建容器 返回一个store\nconst storeKey = \"store\"\nclass Store{\n    constructor(options){\n        console.log(options)\n        // this.a =100; \n        // vue3 内部会创造一个vue实例，但vuex4直接会采用vue3提供的响应式方法\n        // this.state = options.state;\n        const store = this ;\n        // store._store.data \n        store._store = reactive({data: options.state}) // new Vue()\n    }\n    install(app, injectKey){ // createApp().use(store, 'my')\n        // 全局暴露一个变量 暴露的是store的实例\n        app.provide(injectKey || storeKey,this); // 给跟app增加一个 _provides,子组件会去向上查找\n        // vue.properties.$store = this\n        app.config.globalProperties.$store = this; // 增添 $store\n    }\n}\n\nexport function createStore(options) {\n    return new Store(options)\n    \n}\n// vue内部已经将这些api导s出来了\nexport function useStore(injectKey = storeKey){\n    return inject(injectKey !== null ? injectKey : storeKey)\n}"]}]}
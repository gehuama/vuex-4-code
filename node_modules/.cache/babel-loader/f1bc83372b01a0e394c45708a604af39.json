{"remainingRequest":"/Users/xiaoma/Documents/gitlab/web/vuex-4-code/node_modules/babel-loader/lib/index.js!/Users/xiaoma/Documents/gitlab/web/vuex-4-code/node_modules/eslint-loader/index.js??ref--13-0!/Users/xiaoma/Documents/gitlab/web/vuex-4-code/src/store/index.js","dependencies":[{"path":"/Users/xiaoma/Documents/gitlab/web/vuex-4-code/src/store/index.js","mtime":1624707981813},{"path":"/Users/xiaoma/Documents/gitlab/web/vuex-4-code/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xiaoma/Documents/gitlab/web/vuex-4-code/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/xiaoma/Documents/gitlab/web/vuex-4-code/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCB7IGNyZWF0ZVN0b3JlIH0gZnJvbSAnQC92dWV4JzsgLy8gbmV3IHN0b3JlKCkg5Ye95pWw5byPQVBJCgpmdW5jdGlvbiBjdXN0b21QbHVnaW4oc3RvcmUpIHsKICB2YXIgbG9jYWwgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiVlVFWDpTVEFURSIpOwoKICBpZiAobG9jYWwpIHsKICAgIHN0b3JlLnJlcGxhY2VTdGF0ZShKU09OLnBhcnNlKGxvY2FsKSk7CiAgfQoKICBzdG9yZS5zdWJzY3JpYmUoZnVuY3Rpb24gKG11dGF0aW9uLCBzdGF0ZSkgewogICAgLy8g5q+P5b2T54q25oCB54q25oCB5Y+R55Sf5Y+Y5YyWIO+8iOiwg+eUqOS6hm11dGF0aW9u55qE5pe25YCZIOWwseS8muaJp+ihjOatpOWbnuiwg++8iQogICAgY29uc29sZS5sb2cobXV0YXRpb24sIHN0YXRlKTsKICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJWVUVYOlNUQVRFIiwgSlNPTi5zdHJpbmdpZnkoc3RhdGUpKTsKICB9KTsKICBjb25zb2xlLmxvZyhzdG9yZSk7Cn0KCnZhciBzdG9yZSA9IGNyZWF0ZVN0b3JlKHsKICBwbHVnaW5zOiBbLy8g5Lya5oyJ54Wn5rOo5YaM55qE6aG65bqP5L6d5qyh5omn6KGM5o+S5Lu277yM5omn6KGM55qE5pe25YCZ5Lya5oqKc3RvcmXkvKDpgJLnu5nkvaAKICBjdXN0b21QbHVnaW5dLAogIHN0cmljdDogdHJ1ZSwKICAvLyDlvIDlkK/kuKXmoLzmqKHlvI8g5LiN55So6K6455So5oi36Z2e5rOV5pON5L2c54q25oCBIO+8iOWPquiDveWcqG11dGF0aW9u5Lit5L+u5pS554q25oCB77yM5ZCm5YiZ5bCx5Lya5Y+R55Sf5byC5bi477yJCiAgc3RhdGU6IHsKICAgIC8vIOe7hOS7tuS4reeahGRhdGEKICAgIGNvdW50OiAwCiAgfSwKICBnZXR0ZXJzOiB7CiAgICAvLyDmioDmnK/lsZ7mgKcgdnVleDQg5LuW5bm25rKh5pyJ5a6e546w6K6h566X5bGe5oCn55qE5Yqf6IO9CiAgICBkb3VibGU6IGZ1bmN0aW9uIGRvdWJsZShzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuY291bnQgKiAyOwogICAgfQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICAvLyDlj6/ku6Xmm7TmlLnnirbmgIEg5b+F6aG75piv5ZCM5q2l5pu05pS555qECiAgICBhZGQ6IGZ1bmN0aW9uIGFkZChzdGF0ZSwgcGF5bG9hZCkgewogICAgICBzdGF0ZS5jb3VudCArPSBwYXlsb2FkOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgLy8g5Y+v5Lul6LCD55So5YW25LuWYWN0aW9u77yM5oiW6ICF6LCD55SobXV0YXRpb25zCiAgICBhc3luY0FkZDogZnVuY3Rpb24gYXN5bmNBZGQoX3JlZiwgcGF5bG9hZCkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzb2x2ZSwgcmVqZWN0KTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGNvbW1pdCgiYWRkIiwgcGF5bG9hZCk7CiAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgfSwgMTAwMCk7CiAgICAgIH0pOyAvLyBzZXRUaW1lb3V0KCgpPT57CiAgICAgIC8vICAgY29tbWl0KCJhZGQiLHBheWxvYWQpCiAgICAgIC8vIH0sMTAwMCkKICAgIH0KICB9LAogIG1vZHVsZXM6IHsKICAgIC8vIOWtkOaooeWdlyDlrp7njrDpgLvovpHmi4bliIYKICAgIGFDb3VudDogewogICAgICBuYW1lc3BhY2VkOiB0cnVlLAogICAgICBzdGF0ZTogewogICAgICAgIGNvdW50OiAxCiAgICAgIH0sCiAgICAgIG11dGF0aW9uczogewogICAgICAgIC8vIOWPr+S7peabtOaUueeKtuaAgSDlv4XpobvmmK/lkIzmraXmm7TmlLnnmoQKICAgICAgICBhZGQ6IGZ1bmN0aW9uIGFkZChzdGF0ZSwgcGF5bG9hZCkgewogICAgICAgICAgc3RhdGUuY291bnQgKz0gcGF5bG9hZDsKICAgICAgICB9CiAgICAgIH0gLy8gbW9kdWxlczogewogICAgICAvLyAgIGNDb3VudDogewogICAgICAvLyAgICAgbmFtZXNwYWNlZDogdHJ1ZSwKICAgICAgLy8gICAgIHN0YXRlOiB7IGNvdW50OiAxIH0sCiAgICAgIC8vICAgICBtdXRhdGlvbnM6IHsgLy8g5Y+v5Lul5pu05pS554q25oCBIOW/hemhu+aYr+WQjOatpeabtOaUueeahAogICAgICAvLyAgICAgICBhZGQoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgLy8gICAgICAgICBzdGF0ZS5jb3VudCArPSBwYXlsb2FkCiAgICAgIC8vICAgICAgIH0KICAgICAgLy8gICAgIH0KICAgICAgLy8gICB9LAogICAgICAvLyB9CgogICAgfSwKICAgIGJDb3VudDogewogICAgICBuYW1lc3BhY2VkOiB0cnVlLAogICAgICBzdGF0ZTogewogICAgICAgIGNvdW50OiAyCiAgICAgIH0sCiAgICAgIG11dGF0aW9uczogewogICAgICAgIC8vIOWPr+S7peabtOaUueeKtuaAgSDlv4XpobvmmK/lkIzmraXmm7TmlLnnmoQKICAgICAgICBhZGQ6IGZ1bmN0aW9uIGFkZChzdGF0ZSwgcGF5bG9hZCkgewogICAgICAgICAgc3RhdGUuY291bnQgKz0gcGF5bG9hZDsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9Cn0pOyAvLyDkuKXmoLzmqKHlvI8KLy8gZGlzcGF0Y2goYWN0aW9uKSA9PiBjb21taXQobXV0YXRpb25zKSA9PiDkv67mlLnnirbmgIEKLy8g5Y+I5LiA5Liq5Yqf6IO9IOWcqEHpobXpnaLpnIDopoHosIPnlKjkuIDkuKrmjqXlj6Mg5b2x5ZON55qE5Y+v6IO95pivYeaVsOaNriBC6aG16Z2i5Lmf6ZyA6KaB6LCD55So5ZCM5LiA5Liq5o6l5Y+jIOaUueeahOaYr2LmlbDmja4KCnN0b3JlLnJlZ2lzdGVyTW9kdWxlKFsnYUNvdW50JywgJ2NDb3VudCddLCB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogewogICAgY291bnQ6IDAKICB9LAogIG11dGF0aW9uczogewogICAgYWRkOiBmdW5jdGlvbiBhZGQoc3RhdGUsIHBheUxvYWQpIHsKICAgICAgc3RhdGUuY291bnQgKz0gcGF5TG9hZDsKICAgIH0KICB9Cn0pOwpleHBvcnQgZGVmYXVsdCBzdG9yZTs="},{"version":3,"sources":["/Users/xiaoma/Documents/gitlab/web/vuex-4-code/src/store/index.js"],"names":["createStore","customPlugin","store","local","localStorage","getItem","replaceState","JSON","parse","subscribe","mutation","state","console","log","setItem","stringify","plugins","strict","count","getters","double","mutations","add","payload","actions","asyncAdd","commit","Promise","resolve","reject","setTimeout","modules","aCount","namespaced","bCount","registerModule","payLoad"],"mappings":"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","sourcesContent":["import { createStore } from '@/vuex' // new store() 函数式API\nfunction customPlugin (store){\n  let local = localStorage.getItem(\"VUEX:STATE\")\n    if(local){\n      store.replaceState(JSON.parse(local));\n    }\n  store.subscribe((mutation, state)=>{ // 每当状态状态发生变化 （调用了mutation的时候 就会执行此回调）\n    console.log(mutation, state)\n    localStorage.setItem(\"VUEX:STATE\", JSON.stringify(state));\n  })\n  console.log(store)\n}\n\nconst store = createStore({\n  plugins:[ // 会按照注册的顺序依次执行插件，执行的时候会把store传递给你\n    customPlugin,\n  ],\n  strict: true, // 开启严格模式 不用许用户非法操作状态 （只能在mutation中修改状态，否则就会发生异常）\n  state: { // 组件中的data\n    count: 0\n  },\n  getters: { // 技术属性 vuex4 他并没有实现计算属性的功能\n    double(state) {\n      return state.count * 2\n    }\n  },\n  mutations: { // 可以更改状态 必须是同步更改的\n    add(state, payload) {\n      state.count += payload\n    }\n  },\n  actions: { // 可以调用其他action，或者调用mutations\n    asyncAdd({ commit }, payload) {\n      return new Promise((resolve, reject) => {\n        console.log(resolve,reject)\n        setTimeout(() => {\n          commit(\"add\", payload)\n          resolve();\n        }, 1000)\n      })\n      // setTimeout(()=>{\n      //   commit(\"add\",payload)\n      // },1000)\n    }\n  },\n  modules: { // 子模块 实现逻辑拆分\n    aCount: {\n      namespaced: true,\n      state: { count: 1 },\n      mutations: { // 可以更改状态 必须是同步更改的\n        add(state, payload) {\n          state.count += payload\n        }\n      },\n      // modules: {\n      //   cCount: {\n      //     namespaced: true,\n      //     state: { count: 1 },\n      //     mutations: { // 可以更改状态 必须是同步更改的\n      //       add(state, payload) {\n      //         state.count += payload\n      //       }\n      //     }\n      //   },\n      // }\n    },\n    bCount: {\n      namespaced: true,\n      state: { count: 2 },\n      mutations: { // 可以更改状态 必须是同步更改的\n        add(state, payload) {\n          state.count += payload\n        }\n      },\n    }\n  }\n})\n\n// 严格模式\n// dispatch(action) => commit(mutations) => 修改状态\n\n// 又一个功能 在A页面需要调用一个接口 影响的可能是a数据 B页面也需要调用同一个接口 改的是b数据\n\nstore.registerModule(['aCount', 'cCount'], {\n  namespaced: true,\n  state:{\n    count: 0\n  },\n  mutations:{\n    add(state, payLoad){\n      state.count += payLoad;\n    }\n  }\n})\n\nexport default store;"]}]}